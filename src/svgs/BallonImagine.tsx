import { useEffect, useRef } from 'react'
import { gsap } from 'gsap'
import { MorphSVGPlugin } from 'gsap/dist/MorphSVGPlugin'

interface Props {
  className?: string
}

const path1 = `M1741.4 0H0C9.59852 46.7413 46.1622 80.7067 83.5757 105.252C120.989 129.797 162.194 149.285 192.58 183.621C278.727 280.987 247.273 457.849 334.837 553.681C361.649 583.02 397.091 601.285 424.285 630.205C502.74 713.644 493.872 861.61 567.86 949.855C590.445 976.786 619.295 996.189 645.203 1019.2C664.302 1036.17 682.399 1056.27 693.436 1080H1213.56C1224.6 1056.27 1242.7 1036.17 1261.8 1019.2C1287.7 996.177 1316.55 976.786 1339.14 949.855C1413.13 861.622 1404.26 713.656 1482.71 630.205C1509.91 601.285 1545.35 583.02 1572.16 553.681C1659.74 457.861 1628.27 280.999 1714.42 183.621C1744.81 149.285 1786.01 129.797 1823.42 105.252C1860.84 80.7067 1897.4 46.7413 1907 0L1741.4 0Z`
const path2 = `M1741.4 0H0C9.59852 46.7413 46.1622 80.7067 83.5758 105.252C120.989 129.797 138.5 162 192.58 183.621C334.837 301 247.274 457.849 334.837 553.681C361.65 583.02 397.091 601.285 424.285 630.205C603.5 758 403 830 567.86 949.855C590.445 976.786 619.295 996.189 645.204 1019.2C664.302 1036.17 682.399 1056.27 693.436 1080H1213.56C1224.6 1056.27 1242.7 1036.17 1261.8 1019.2C1287.71 996.177 1316.56 976.786 1339.14 949.855C1506.5 811.5 1316.5 736.5 1482.72 630.205C1509.91 601.285 1545.35 583.02 1572.16 553.681C1749.17 360 1572.16 295.5 1714.42 183.621C1744.81 149.285 1786.01 129.797 1823.42 105.252C1860.84 80.7067 1907 52.5 1907 0L1741.4 0Z`
const path3 = `M1741.4 0H0C9.59852 46.7413 46.1622 80.7067 83.5758 105.252C120.989 129.797 138.5 162 192.58 183.621C334.837 301 247.274 457.849 334.837 553.681C361.65 583.02 397.091 601.285 424.285 630.205C603.5 758 403 830 567.86 949.855C590.445 976.786 619.295 996.189 645.204 1019.2C664.302 1036.17 682.399 1056.27 693.436 1080H1213.56C1224.6 1056.27 1242.7 1036.17 1261.8 1019.2C1287.71 996.177 1316.56 976.786 1339.14 949.855C1506.5 811.5 1316.5 736.5 1482.72 630.205C1509.91 601.285 1545.35 583.02 1572.16 553.681C1749.17 360 1572.16 295.5 1714.42 183.621C1744.81 149.285 1786.01 129.797 1823.42 105.252C1860.84 80.7067 1907 52.5 1907 0L1741.4 0Z`
const path4 = `M1741.4 0H0C9.59852 46.7413 46.1622 80.7067 83.5758 105.252C120.989 129.797 138.5 162 192.58 183.621C334.837 301 247.274 457.849 334.837 553.681C361.65 583.02 397.091 601.285 424.285 630.205C603.5 758 403 830 567.86 949.855C590.445 976.786 619.295 996.189 645.204 1019.2C664.302 1036.17 682.399 1056.27 693.436 1080H1213.56C1224.6 1056.27 1242.7 1036.17 1261.8 1019.2C1287.71 996.177 1316.56 976.786 1339.14 949.855C1506.5 811.5 1316.5 736.5 1482.72 630.205C1509.91 601.285 1545.35 583.02 1572.16 553.681C1749.17 360 1572.16 295.5 1714.42 183.621C1744.81 149.285 1786.01 129.797 1823.42 105.252C1860.84 80.7067 1897.4 46.7413 1907 0L1741.4 0Z`
const path5 = `M1741.4 0H0C9.59852 46.7413 46.1622 80.7067 83.5758 105.252C120.989 129.797 138.5 162 192.58 183.621C278.727 280.987 247.273 457.849 334.837 553.681C361.65 583.02 397.091 601.285 424.285 630.205C502.74 713.644 493.872 861.61 567.86 949.855C590.445 976.786 619.295 996.189 645.204 1019.2C664.302 1036.17 682.399 1056.27 693.436 1080H1213.56C1224.6 1056.27 1242.7 1036.17 1261.8 1019.2C1287.71 996.177 1316.56 976.786 1339.14 949.855C1413.13 861.622 1404.26 713.656 1482.71 630.205C1509.91 601.285 1545.35 583.02 1572.16 553.681C1659.74 457.861 1628.27 280.999 1714.42 183.621C1744.81 149.285 1786.01 129.797 1823.42 105.252C1860.84 80.7067 1907 46.7413 1907 0L1741.4 0Z`

export const BallonImagine = ({ className }: Props) => {
  const pathRef = useRef<SVGPathElement>(null)

  useEffect(() => {
    // gsap animation morphing svg

    const ctx = gsap.context(() => {
      gsap.registerPlugin(MorphSVGPlugin)

      const tl = gsap.timeline({
        repeat: -1,
        yoyo: false,
        ease: 'none'
      })

      tl.to(pathRef.current, {
        morphSVG: path1,
        duration: 2
      })
        .to(
          pathRef.current,
          {
            morphSVG: path2,
            duration: 2
          },
          '-=1.9'
        )
        .to(
          pathRef.current,
          {
            morphSVG: path3,
            duration: 2
          },
          '-=1.9'
        )
        .to(
          pathRef.current,
          {
            morphSVG: path4,
            duration: 2
          },
          '-=1.9'
        )
        .to(pathRef.current, {
          morphSVG: path5,
          duration: 2
        })
    })
  }, [])

  return (
    <svg
      className={className}
      viewBox="0 0 1907 1080"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        ref={pathRef}
        d="M1741.4 0H0C9.59852 46.7413 46.1622 80.7067 83.5757 105.252C120.989 129.797 162.194 149.285 192.58 183.621C278.727 280.987 247.273 457.849 334.837 553.681C361.649 583.02 397.091 601.285 424.285 630.205C502.74 713.644 493.872 861.61 567.86 949.855C590.445 976.786 619.295 996.189 645.203 1019.2C664.302 1036.17 682.399 1056.27 693.436 1080H1213.56C1224.6 1056.27 1242.7 1036.17 1261.8 1019.2C1287.7 996.177 1316.55 976.786 1339.14 949.855C1413.13 861.622 1404.26 713.656 1482.71 630.205C1509.91 601.285 1545.35 583.02 1572.16 553.681C1659.74 457.861 1628.27 280.999 1714.42 183.621C1744.81 149.285 1786.01 129.797 1823.42 105.252C1860.84 80.7067 1897.4 46.7413 1907 0L1741.4 0Z"
        fill="currentColor"
      />
    </svg>
  )
}
